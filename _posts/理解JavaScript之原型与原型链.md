---
title: ç†è§£JavaScriptä¹‹åŸå‹ä¸åŸå‹é“¾
author: Huanqiang
tags: [JavaScript, åŸå‹, åŸå‹é“¾]
categories: [å‰ç«¯]
keyword: [JavaScript, åŸå‹, åŸå‹é“¾]
date: 2017-05-08 10:31:49
---

æ­£å¦‚æˆ‘ä»¬æ‰€çŸ¥é“çš„ï¼ŒJS å¹¶éä¸€é—¨ä¸¥æ ¼æ„ä¹‰ä¸Šçš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œä½†æ˜¯å®ƒä»ç„¶å…·æœ‰å¯¹è±¡çš„æ¦‚å¿µï¼Œä¸”ä¹Ÿæœ‰ç»§æ‰¿æœºåˆ¶ã€‚ä½†æ˜¯è¿™ä¸ªç»§æ‰¿ä¹Ÿå¹¶éåŒä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€é‚£æ ·ã€‚å®ƒæ²¡æœ‰ â€œå­ç±» â€œå’Œ â€œçˆ¶ç±»â€ çš„æ¦‚å¿µï¼Œä¹Ÿæ²¡æœ‰ â€œç±»â€ï¼ˆ`class`ï¼‰å’Œ â€œå®ä¾‹â€ï¼ˆ`instance`ï¼‰çš„åŒºåˆ†ï¼Œå…¨é ä¸€ç§å¾ˆå¥‡ç‰¹çš„ â€œåŸå‹é“¾â€ï¼ˆ`prototype chain`ï¼‰æ¨¡å¼ï¼Œæ¥å®ç°ç»§æ‰¿ã€‚

> äº‹å®ä¸Šåœ¨ES6ä¸­ï¼Œå¼•å…¥äº† class å…³é”®å­—ï¼Œä½†æ˜¯å…¶æœ¬è´¨ä¸Šä»ç„¶æ˜¯å‡½æ•°ã€‚

<!-- more -->

## è®¾è®¡ç”±æ¥

JS ä¹‹æ‰€ä»¥æœ‰å¦‚æ­¤å¥‡æ€ªçš„è¯­æ³•ï¼Œè¿™äº›éƒ½æ˜¯æœ‰å†å²æ¸Šæºçš„ï¼Œæˆ‘ä»¬è¦ä»å…¶è®¾è®¡ä¹‹åˆè®²èµ·ã€‚

> è¯¦è§ [Javascriptç»§æ‰¿æœºåˆ¶çš„è®¾è®¡æ€æƒ³](http://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html) çš„ç¬¬ä¸€äºŒéƒ¨åˆ†ï¼ˆæ¨èçœ‹ä¸€ä¸‹ï¼‰ï¼Œæˆ‘ä»¬è¿™é‡Œç®€è¿°ä¸€ä¸‹ã€‚

JS åœ¨è®¾è®¡çš„æ—¶å€™ï¼Œæ­£å¥½æ˜¯é¢å‘å¯¹è±¡è¯­è¨€æœ€å…´ç››çš„æ—¶å€™ï¼Œæ‰€ä»¥ JS çš„è®¾è®¡è€…ä¹Ÿå—å…¶å½±å“ï¼Œè¿™ä¸€ç‚¹åœ¨ **JS çš„æ•°æ®ç±»å‹å…¨æ˜¯å¯¹è±¡ï¼ˆåŒ…æ‹¬å‡½æ•°ï¼‰** è¿™ä¸€æ–¹é¢å°±èƒ½çœ‹å‡ºæ¥ã€‚æ‰€ä»¥è¿™å°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œä½œä¸ºä¸€é—¨æ•°æ®ç±»å‹å…¨æ˜¯å¯¹è±¡çš„è¯­è¨€ï¼Œç©¶ç«Ÿè¦ä¸è¦ `ç»§æ‰¿` è¿™ä¸€ç‰¹æ€§å‘¢ï¼Ÿ

å¦‚æœæƒ³è¦ç”¨ C++ã€Java é‚£ç§ç»§æ‰¿æ–¹å¼ï¼Œé‚£åŠ¿å¿…è¦ `ç±»(class)` è¿™ä¸€æ¦‚å¿µï¼Œè¿™æ ·å°±ä¸å…¶â€œç®€å•ã€æ˜“ç”¨â€è®¾è®¡çš„æœ¬æ„ç›¸è¿èƒŒï¼Œæˆäº†ä¸€é—¨å®Œå…¨çš„é¢å‘å¯¹è±¡è¯­è¨€äº†ã€‚

å¦‚æœä¸è¦ï¼Œåˆå› ä¸º JavaScript é‡Œé¢éƒ½æ˜¯å¯¹è±¡ï¼Œå¿…é¡»æœ‰ä¸€ç§æœºåˆ¶ï¼Œå°†æ‰€æœ‰å¯¹è±¡è”ç³»èµ·æ¥ã€‚

æ‰€ä»¥ JS çš„è®¾è®¡è€…æƒ³å‡ºäº†ä¸€ç§ æ—¢åŒ…å« `ç»§æ‰¿`ï¼Œåˆä¸éœ€è¦ `Class` çš„æ–¹æ¡ˆï¼šåŸå‹é“¾ã€‚

## 1. åŸå‹ï¼ˆprototypeï¼‰

> JS é€šè¿‡ åŸå‹å¯¹è±¡ å®ç°äº†é¢å‘å¯¹è±¡ä¸­çš„ç±»ä¸å®ä¾‹å¯¹è±¡çš„å…³ç³»ã€‚

åªè¦åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šä¸ºè¿™ä¸ªå‡½æ•°åˆ›é€ ä¸€ä¸ªåŸå‹ï¼ˆ`prototype`ï¼‰å±æ€§ï¼ˆè¿™ä¸ªå±æ€§æŒ‡å‘çš„å°±æ˜¯åŸå‹å¯¹è±¡ï¼‰ã€‚

åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨åŒ…å«ä¸€ä¸ªéšè—å±æ€§ï¼š`constructor`ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘çš„å°±æ˜¯ `prototype` å±æ€§æ‰€åœ¨å‡½æ•°ï¼ˆå³ åŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼‰ã€‚

```
(ä»¥è‡ªå®šä¹‰ä¸€ä¸ª Ninja() å‡½æ•°ä¸ºä¾‹)
|â€”â€” Ninja å‡½æ•°					// å³ æ„é€ å‡½æ•°
| |â€”â€” Prototype å¯¹è±¡			// å³ åŸå‹å¯¹è±¡
| | |â€”â€” constructor å±æ€§		// æŒ‡å‘ Ninja å‡½æ•°
```

å†æ¥ä¸ªä»£ç çš„æ —å­ğŸŒ°ï¼š

```javascript
function Ninja() { }

console.log(Ninja.prototype)                // è¾“å‡ºï¼šNinja {}
console.log(Ninja.prototype.constructor)    // è¾“å‡ºï¼š[Function: Ninja]
```

> è¿™æ˜¯ Node.js ç¯å¢ƒä¸‹çš„ç¼–è¯‘å™¨è¾“å‡ºï¼Œæ‰€ä»¥è¾“å‡ºä¸ºï¼š`Ninja {}`ï¼Œä½†æ˜¯å¦‚æœæ˜¯åœ¨ webæµè§ˆå™¨ä¸­è¾“å‡ºï¼Œé‚£ä¹ˆç»“æœå¦‚ä¸‹ï¼š`Object {constructor: function}`
>
> å»ºè®®åœ¨æ‰“æ–­ç‚¹æŸ¥çœ‹è¯¦æƒ…ï¼Œè¿™æ ·ä¸¤è€…éƒ½èƒ½å¾ˆå¥½åœ°å±•ç¤ºç»“æœã€‚

### 1.1. å®ä¾‹å¯¹è±¡

å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå®ä¾‹å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ˆå³ `[[Prototype]]` å±æ€§ï¼‰ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡ã€‚ä½†æ˜¯è¿™ä¸ª `[[Prototype]]` å±æ€§æ˜¯æ— æ³•è®¿é—®çš„ï¼Œæ‰€ä»¥å‡ ä¸ª JS å¼•æ“å°±å®ç°äº†ä¸€ä¸ªç§°ä¸º `__proto__` çš„ä¸å¯è§è‡ªå®šä¹‰å±æ€§ï¼Œä»¥æ­¤æ¥è®¿é—® `[[Prototype]]` å±æ€§æ‰€æŒ‡å‘çš„åŸå‹å¯¹è±¡ã€‚

**ä¸€å®šè¦æ³¨æ„**åŒºåˆ†è¿™é‡Œçš„æ‰€è¯´çš„æ„é€ å‡½æ•° å’Œ é¢å‘å¯¹è±¡ä¸­æ„é€ å‡½æ•°ï¼Œä¸è¦æ··ä¸ºä¸€è°ˆã€‚è¿™é‡Œçš„æ„é€ å‡½æ•°å°±æ˜¯æŒ‡ å½“ `new` è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¼šåˆ›é€ ä¸€ä¸ªæ–°çš„å®ä¾‹å¯¹è±¡ã€‚

> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š`__proto__`å¯¹ `[[Prototype]]` çš„è¿æ¥å­˜åœ¨äºå®ä¾‹ä¸æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¹‹é—´ï¼Œè€Œéå®ä¾‹ä¸æ„é€ å‡½æ•°ä¹‹é—´ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªæ —å­ğŸŒ°ï¼š

```javascript
function Ninja() {
    this.swingSword = function() {
        return true;
    }
}

var ninja = new Ninja()
console.log(ninja.swingSword())		// è¾“å‡ºï¼štrue
console.log(ninja.__proto__)		// è¾“å‡ºï¼š[Function: Ninja]
```

> å¹¶ä¸æ¨èä½¿ç”¨ `__proto__`ï¼Œä¸”ES6 ä¸­å·²ç»æœ‰äº†è‰¯å¥½çš„æ›¿ä»£æ–¹æ³•ï¼Œè¯¦æƒ…è¯·è§æœ¬æ–‡ 1.3 èŠ‚ã€‚

### 1.2. åŸå‹ä¸Šæ–¹æ³•çš„ä¼˜å…ˆçº§

å½“æ„é€ å‡½æ•°çš„å†…éƒ¨å‡½æ•°å’ŒåŸå‹ä¸Šçš„å‡½æ•°é‡åçš„æ—¶å€™ï¼Œæ„é€ å‡½æ•°çš„å†…éƒ¨å‡½æ•°ä¼šå±è”½åŸå‹ä¸Šçš„å‡½æ•°ã€‚

çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š

```javascript
function Person() {
    this.sayHello = function () {
        return "Hi"
    }
}

Person.prototype.sayHello = function () {
    return "Hello"
}

var person = new Person()
console.log(person.sayHello())       // è¾“å‡ºï¼šHi
```

### 1.3. `__proto__`

> æ‘˜å½•è‡ª `Understanding ES6`

åœ¨ ES5 è§„èŒƒå®Œæˆä¹‹å‰ï¼Œå‡ ä¸ª JS å¼•æ“å°±å·²ç»å®ç°äº†ä¸€ä¸ªç§°ä¸º `__proto__` çš„è‡ªå®šä¹‰å±æ€§ï¼Œèƒ½ç”¨å®ƒæ¥è·å–å¹¶è®¾ç½® `[[Prototype]]` å±æ€§ã€‚

å®é™…ä¸Šï¼Œ **__proto__ å°±æ˜¯ Object.getPrototypeOf() ä¸ Object.getPrototypeOf() æ–¹æ³•çš„æ—©æœŸå…ˆé©±**ã€‚æœŸæœ›æ‰€æœ‰çš„ JS å¼•æ“éƒ½ç§»é™¤è¿™ä¸ªå±æ€§æ˜¯ä¸ç°å®çš„ï¼ˆå› ä¸ºæœ‰äº›æµè¡Œçš„ JS ä»£ç åº“å·²ç»åˆ©ç”¨äº†è¯¥å±æ€§ï¼‰ï¼Œå› æ­¤ ES6 ä¹Ÿå°†è¯¥å±æ€§çš„è¡Œä¸ºæ ‡å‡†åŒ–äº†ï¼Œä½†åœ¨ ECMA-262 é™„å½• B ä¸­è¯¥è§„èŒƒä¹Ÿé™„å¸¦äº†ä»¥ä¸‹è­¦å‘Šï¼š

> è¿™äº›ç‰¹æ€§å¹¶ä¸è¢«è®¤ä¸ºæ˜¯ ES è¯­è¨€çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œç¨‹åºå‘˜åœ¨ä¹¦å†™æ–°çš„ ES ä»£ç æ—¶ï¼Œä¸åº”ä½¿ç”¨ å®ƒã€æˆ–å‡å®šè¿™äº›ç‰¹æ€§å­˜åœ¨ã€‚ ES çš„å®ç°æ–¹æ¡ˆå¹¶ä¸é¼“åŠ±å®ç°è¿™äº›ç‰¹æ€§ï¼Œé™¤éè¯¥å®ç°å·²æ˜¯ web æµè§ˆå™¨çš„ä¸€éƒ¨åˆ†ã€æˆ–è€…è¢«ç”¨äºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œé—ç•™ä»£ç ã€‚

**ES è§„èŒƒæ›´æ¨èä½¿ç”¨ Object.getPrototypeOf() ä¸ Object.setPrototypeOf() æ–¹æ³•ï¼Œå› ä¸º __proto__ å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š**

1. åœ¨å¯¹è±¡å­—é¢é‡ä¸­åªèƒ½æŒ‡å®šä¸€æ¬¡ï¼ŒæŒ‡å®šå¤šä¸ªå¯¹è±¡å­—é¢é‡å±æ€§ä¸­å”¯ä¸€å—æ­¤é™åˆ¶çš„å±æ€§ã€‚ 
2. å¯¹è±¡å­—é¢é‡ä¸­éœ€è®¡ç®—å½¢å¼çš„ [â€œ`__proto__`â€œ] è¡¨ç°å¾—å°±åƒæ˜¯å¸¸è§„å±æ€§ï¼Œå¹¶ä¸ä¼šè®¾ç½®æˆ–è¿”å› å½“å‰å¯¹è±¡çš„åŸå‹ã€‚å¯¹äºå­—é¢é‡å±æ€§æ¥è¯´ï¼Œéœ€è®¡ç®—å½¢å¼ä¸éè®¡ç®—å½¢å¼ä¸€èˆ¬æ˜¯ç­‰ä»·çš„ï¼Œåªæœ‰ `__proto__` ä¾‹å¤–ã€‚

```javascript
let a1 = {
	["__proto__"]: Number
};
console.log(a1)		// è¾“å‡ºï¼š{ __proto__: [Function: Number] }

let a2 = {
	__proto__: Number
};
console.log(a2)		// è¾“å‡ºï¼šFunction {}
```

æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œa1 ä¸ a2 å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œa1 æ˜¯å¯¹è±¡ï¼Œa2 åˆ™æ˜¯å‡½æ•°ã€‚

## 2. åŸå‹é“¾

ä¸Šé¢æˆ‘ä»¬æåˆ°ï¼Œæ„é€ å‡½æ•°ã€åŸå‹å¯¹è±¡ã€å®ä¾‹å¯¹è±¡è¿™ä¸‰ä¸ªé‡è¦çš„æ¦‚å¿µã€‚è®©æˆ‘ä»¬é‡æ–°ç†ä¸€ç†è¿™ä¸‰è€…çš„å…³ç³»ã€‚

**æ„é€ å‡½æ•°åŒ…å«ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼ˆconstructorå±æ€§ï¼‰ï¼Œå®ä¾‹å¯¹è±¡åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°åŸå‹å¯¹è±¡çš„æŒ‡é’ˆï¼ˆ[[Prototype]]å±æ€§ï¼‰ã€‚**

åŒæ—¶ï¼Œæˆ‘ä»¬çŸ¥é“åŸå‹å¯¹è±¡å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ã€‚æ‰€ä»¥å½“åŸå‹å¯¹è±¡æŒ‡å‘çš„æ˜¯å¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹å¯¹è±¡æ—¶ï¼Œæ˜¯ä¸æ˜¯é—´æ¥å®ç°äº†ç»§æ‰¿ã€‚

```javascript
function Person() { }			// çˆ¶å‡½æ•°

function Ninja() { }			// å­å‡½æ•°

Ninja.prototype = new Person()		// è®¾ç½®å­å‡½æ•°çš„åŸå‹ä¸ºçˆ¶å‡½æ•°çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡

console.log(Ninja.prototype instanceof Person)                  // è¾“å‡º1ï¼štrue
console.log(Ninja.prototype.constructor)                        // è¾“å‡º2 ï¼š[Function: Person]
console.log(Ninja.prototype.__proto__ === Person.prototype)     // è¾“å‡º3ï¼štrue

var ninja = new Ninja()
console.log(ninja.__proto__ === Ninja.prototype)        // è¾“å‡º4ï¼štrue
console.log(ninja.__proto__ === Person.prototype)       // è¾“å‡º5ï¼šfalse
```

1. è¾“å‡º1ï¼šå› ä¸ºæˆ‘ä»¬æŠŠ`Ninja`æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡è®¾ç½®ä¸ºäº† `Person` çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥è¾“å‡ºTrueï¼›
2. è¾“å‡º2ï¼š**å› ä¸ºæŠŠ Ninja åŸå‹å¯¹è±¡è®¾ç½®ä¸ºäº† Person çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ä¹‹åï¼ŒNinja åŸå‹å¯¹è±¡ä¸­çš„ constructorå±æ€§ ä¼šæ¶ˆå¤±ã€‚å› ä¸ºæ­¤æ—¶çš„ Ninjaæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡æ˜¯ä¸€ä¸ªå®å®åœ¨åœ¨çš„å®ä¾‹å¯¹è±¡ï¼Œè€Œå®ä¾‹å¯¹è±¡æ˜¯æ²¡æœ‰ constructor å±æ€§çš„ã€‚**æ­¤æ—¶è¾“å‡ºçš„å®é™…ä¸Šæ˜¯ `Person.prototype.constructor`ã€‚ï¼ˆåŸå‹é“¾çš„ç‰¹æ€§ï¼Œå½“æ²¡æœ‰ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œä¼šé¡ºç€åŸå‹é“¾å¾€ä¸Šæ‰¾ï¼‰ã€‚
3. è¾“å‡º3ï¼šå› ä¸º `Ninja` åŸå‹å¯¹è±¡æ˜¯ `Person` çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥å…¶ `__proto__` æŒ‡å‘çš„å°±æ˜¯ `Person.prototype`ã€‚
4. è¾“å‡º4ã€5ï¼š`ninja` åˆ°åº•æ˜¯ `Ninja` çš„å®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥å…¶ `__proto__` æŒ‡å‘çš„å°±æ˜¯ `Ninja.prototype`ã€‚

ä¸‹é¢è¿™æ˜¯ Ninja å¯¹è±¡ï¼Œå¯ä»¥ä»”ç»†çœ‹ä¸‹ï¼š

![åŸå‹é“¾ä¹‹ Ninja å¯¹è±¡](../img/JavaScript/PrototypeChain_code.png)

[åŸå‹é“¾ä¹‹ Ninja å¯¹è±¡](http://huanqiang.wang/img/JavaScript/PrototypeChain_code.png)

ä¸‹é¢æ˜¯ç»“æ„å›¾ï¼š 

![åŸå‹é“¾ä¹‹ Ninja å¯¹è±¡](../img/JavaScript/PrototypeChain_Struct.png)

[åŸå‹é“¾ä¹‹ Ninja å¯¹è±¡](http://huanqiang.wang/img/JavaScript/PrototypeChain_Struct.png)

> æˆ‘è¿™é‡Œå†™çš„æ¯”è¾ƒä¹±ï¼Œå¦‚æœè¿˜æ²¡æœ‰çœ‹æ‡‚çš„ï¼Œè¯·çœ‹ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹ã€‚å¾ˆé‡è¦

### 2.2. å±æ€§ç»§æ‰¿

> è¿™æ˜¯æˆ‘è‡ªå·±ç»™çš„å‘½åï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€å§ï¼›

åœ¨åŸå‹æœç´¢æœºåˆ¶ä¸­ï¼Œå½“è®¿é—®ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„å®åŠ›å±æ€§æ—¶ï¼Œå®ƒé¦–å…ˆä¼šåœ¨å®åŠ›æœ¬èº«ä¸­å»æœç´¢ï¼Œå¦‚æœæ²¡æœ‰æœç´¢åˆ°ï¼Œå®ƒå°±ä¼šè·‘åˆ°å…¶åŸå‹ä¸­å»æœç´¢ã€‚

åŒæ ·çš„ï¼Œåœ¨è¿ç”¨äº†åŸå‹é“¾ä¹‹åï¼Œå¦‚æœå…¶åŸå‹ä¸­ä»ç„¶æ²¡æœ‰ï¼Œå°±ä¼šé¡ºç€åŸå‹é“¾ç»§ç»­å¾€ä¸Šæ‰¾ã€‚è®©æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```javascript
function Person() { }

Person.prototype.sayHello = function () {
    return "Hello"
}

function Ninja() { }

Ninja.prototype = new Person()
Ninja.prototype.swingSword = function () {
    return true;
}

var ninja = new Ninja()
console.log(ninja.swingSword())     // è¾“å‡ºï¼štrue
console.log(ninja.sayHello())       // è¾“å‡ºï¼šHello
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“æˆ‘ä»¬è®¿é—® `ninja.swingSword()` æ—¶ï¼Œå…¶æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š

```javascript
ninja æœ¬èº«çš„å±æ€§ â€”->  Ninja.prototype(Personçš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡)
```

å½“æˆ‘ä»¬è®¿é—® `ninja.sayHello()` æ—¶ï¼Œå…¶æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š

```
ninja æœ¬èº«çš„å±æ€§ â€”->  Ninja.prototype --> Person.prototype
```

> è¿™é‡Œåªæ˜¯åŸºç¡€åœ°è®²è§£äº†ä¸‹åŸå‹é“¾ï¼Œæ›´åŠ è¯¦ç»†çš„å†…å®¹è¯·é˜…è¯»ï¼šã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹ï¼šç¬¬6ç« 

## èµ„æ–™

1. ã€ŠJavaScript å¿è€…ç§˜ç±ã€‹ï¼šç¬¬6ç« 
2. ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹ï¼šç¬¬6ç« 
3. [Javascriptç»§æ‰¿æœºåˆ¶çš„è®¾è®¡æ€æƒ³](http://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html)ï¼šç®€å•è®²è¿°äº†Javascriptç»§æ‰¿æœºåˆ¶çš„è®¾è®¡æ€æƒ³ï¼›
4. [å›¾è§£JavascriptåŸå‹é“¾](http://blog.rainy.im/2015/07/20/prototype-chain-in-js/)